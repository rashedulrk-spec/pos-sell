<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />

  <!-- 
    ‡¶®‡ßã‡¶ü: Responsive design ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø viewport
  -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Daily Ledger & Stock</title>

  <!-- 
    ‡¶®‡ßã‡¶ü: ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶∏‡¶¨ UI / animation / panel style ‡¶è‡¶ñ‡¶æ‡¶® ‡¶•‡ßá‡¶ï‡ßá‡¶á ‡¶Ü‡¶∏‡ßá
  -->
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>

<!-- 
  ‡¶®‡ßã‡¶ü: Animated network / background canvas
-->
<canvas id="network"></canvas>

<!-- 
  ‡¶®‡ßã‡¶ü: Top hero section (title + subtitle)
-->
<section class="hero">
  <div>
    <h1>Daily Ledger & Stock</h1>
    <p>Smart Shop POS System</p>
  </div>
</section>
<!-- ================= DASHBOARD SUMMARY ================= -->
<section class="panel dashboard">
  <div class="dash-box ok">
    <h3 id="dash-ok">0</h3>
    <p>OK Stock</p>
  </div>

  <div class="dash-box low">
    <h3 id="dash-low">0</h3>
    <p>Low Stock</p>
  </div>

  <div class="dash-box out">
    <h3 id="dash-out">0</h3>
    <p>Out of Stock</p>
  </div>
</section>

<!-- 
  ‡¶®‡ßã‡¶ü: POS Sale Section (Barcode ‡¶¶‡¶ø‡ßü‡ßá ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø)
-->
<section class="panel">
  <h2>üßæ POS Sale (Barcode)</h2>
  <p class="subtitle">Scan ‚Üí Quantity ‚Üí Auto Invoice</p>

  <form id="pos-form" class="form-row">
    <input type="text" id="pos-barcode" placeholder="Scan / Barcode" required>
    <input type="number" id="pos-qty" placeholder="Quantity" required>
    <button type="submit" class="btn">Sell</button>
  </form>

  <!-- 
    ‡¶®‡ßã‡¶ü: Invoice box (sale ‡¶π‡¶≤‡ßá JS ‡¶•‡ßá‡¶ï‡ßá show ‡¶π‡¶¨‡ßá)
  -->
  <div id="invoice-box" style="display:none">
    <h3>üßæ Invoice</h3>
    <div id="invoice-content"></div>
    <button onclick="window.print()" class="btn">üñ® Print</button>
  </div>
</section>

<!-- 
  ‡¶®‡ßã‡¶ü: Barcode Scanner Section (Camera)
-->
<section class="panel">
  <h2>üì∑ Barcode Scanner</h2>
  <p class="subtitle">Camera ‡¶¶‡¶ø‡ßü‡ßá Barcode Scan ‡¶ï‡¶∞‡ßã</p>

  <!-- 
    ‡¶®‡ßã‡¶ü: Video element
    autoplay + playsinline = mobile browser support
  -->
  <video
    id="scanner"
    autoplay
    playsinline
    muted
  ></video>

  <!-- 
    ‡¶®‡ßã‡¶ü: Scan result text
  -->
  <p id="scan-result"></p>

  <!-- 
    ‡¶®‡ßã‡¶ü: Scanner control buttons
  -->
  <button onclick="startScanner()" class="btn">Start Scanner</button>
  <button onclick="stopScanner()" class="btn">Stop</button>
</section>

<!-- 
  ‡¶®‡ßã‡¶ü: Daily Expense Ledger Section
-->
<section class="panel">
  <h2>üìí Daily Expense Ledger</h2>
  <p class="subtitle">‡¶ñ‡¶∞‡¶ö / ‡¶≠‡¶æ‡ßú‡¶æ / ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡ßÅ‡ßé / ‡¶¨‡ßá‡¶§‡¶®</p>

  <form id="ledger-form" class="form-row">
    <input type="date" id="l-date" required>

    <select id="l-category" required>
      <option value="">Category</option>
      <option value="Rent">‡¶≠‡¶æ‡ßú‡¶æ</option>
      <option value="Electricity">‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡ßÅ‡ßé</option>
      <option value="Salary">‡¶¨‡ßá‡¶§‡¶®</option>
      <option value="Transport">‡¶Ø‡¶æ‡¶§‡¶æ‡ßü‡¶æ‡¶§</option>
      <option value="Other">‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø</option>
    </select>

    <input type="number" id="l-amount" placeholder="Amount" required>
    <input type="text" id="l-note" placeholder="Note (optional)">
    <button type="submit" class="btn">Add Expense</button>
  </form>

  <!-- 
    ‡¶®‡ßã‡¶ü: Total expense auto calculate ‡¶π‡¶¨‡ßá JS ‡¶•‡ßá‡¶ï‡ßá
  -->
  <h3 style="margin:10px 0">
    Total Expense: ‡ß≥<span id="total-expense-ledger">0</span>
  </h3>

  <!-- 
    ‡¶®‡ßã‡¶ü: Ledger table
  -->
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Category</th>
        <th>Note</th>
        <th>Amount</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="ledger-body"></tbody>
  </table>
</section>

<!-- ================= SCRIPTS ================= -->

<!-- 
  ‡¶®‡ßã‡¶ü: ZXing library (barcode scanner engine)
-->
<script src="https://unpkg.com/@zxing/library@latest"></script>

<!-- 
  ‡¶®‡ßã‡¶ü: Background animation scripts
-->
<script src="js/background.js"></script>
<script src="js/network.js"></script>

<!-- 
  ‡¶®‡ßã‡¶ü: Core business logic
-->
<script src="js/product.js"></script>
<script src="js/stock.js"></script>
<script src="js/sale.js"></script>
<script src="js/profit.js"></script>

<!-- 
  ‡¶®‡ßã‡¶ü: Ledger & Scanner logic
-->
<script src="js/ledger.js"></script>
<script src="js/scanner.js"></script>
<!-- üîä LOW STOCK ALERT SOUND -->
<!-- ‡¶®‡ßã‡¶ü: Low / Out stock ‡¶π‡¶≤‡ßá ‡¶è‡¶á sound ‡¶¨‡¶æ‡¶ú‡¶¨‡ßá -->
<audio id="lowStockSound" preload="auto">
  <source src="audio/alert.ogg" type="audio/ogg">
</audio>
<!-- ================= STOCK HISTORY MODAL ================= -->
<div id="historyModal" class="modal">
  <div class="modal-content">
    <h3>üì¶ Stock History</h3>
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Action</th>
          <th>Qty</th>
        </tr>
      </thead>
      <tbody id="history-body"></tbody>
    </table>
    <button onclick="closeHistory()">Close</button>
  </div>
</div>

</body>
</html>
